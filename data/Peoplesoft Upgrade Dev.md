## Upgrade Process
A demo database with the old Application release must be upgraded to the new PeopleTools release using the PeopleTools Upgrade process. This Demo database is used to perform a ‘Vanilla Compare’ process. The vanilla compare produces a report and a project containing any PeopleSoft defined object that is different within the two databases. This is used to confirm customizations applied to our target database (typically a copy of the production database). We also do this to ‘stamp’ any custom objects as custom so that they are not later identified in the compare reports.

The target database is compared with the new release Demo Database. The admin team provides the compare report generated by Change Assistant during the upgrade. The new release demo is delivered with the new PeopleSoft CD and contains any new objects or Projects. The result of this compare is a report for every same-named object with a difference or new object and a project containing all the reported objects. The report lists the exact difference with the source object side by side. The project contains the object type, object name, and a checkbox which is checked or unchecked based on pre-determined criteria. These checkboxes can and normally are changed based on further analysis of the reports.

## Object Status Types
After determining the Report Action, Application Designer defines the status—in both the source and the target—of each object to be Compared or Reported. The following table explains the various status types:

- **Unknown:** Object has not been compared. This is the default status for all objects inserted manually into a project and the permanent status of all non-comparison objects.
- **Absent:** The object was found in the other database, but not in this one. When upgrading to a new PeopleSoft release, all the new objects should have absent status in the target database.
- **Changed:** The object has been compared, its LASTUPDOPRID value is ‘PPLSOFT’, and its LASTUPDTIME value is greater than the date/time stamp of the comparison release database. In other words, PeopleSoft modified the object since the comparison release.
- **Unchanged:** The object has been compared, its LASTUPDOPRID value is ‘PPLSOFT’, and its LASTUPDTIME value is less than or equal to the date/time stamp of the comparison release database. In other words, PeopleSoft last modified the object prior to the comparison release.
- **\*Changed:** The object has been compared, its LASTUPDOPRID value is not ‘PPLSOFT’, and its LASTUPDTIME value is greater than the date/time stamp of the comparison release database. In this case, the customer has modified the object since the comparison release.
- **\*Unchanged:** The object has been compared, its LASTUPDOPRID value is not ‘PPLSOFT’, and its LASTUPDTIME value is less than or equal to the date/time stamp of the comparison release database. In this case, the customer last modified the object prior to the comparison release.

## Report Analysis and Object Selection
Based on the conclusion reached with the report analysis, objects in contention (existing in both databases with different structures) can be selectively upgraded or ignored. A case where an object would be ignored is when we have an object with the same name as a PeopleSoft object and we have heavily customized our object. It would then make more sense to retain our customized object and add any changes from the new object as opposed to overlaying our object with the new PeopleSoft object and re-applying our customizations.

Objects can be selected from Application Designer by opening the Project and clicking the Upgrade tab. This opens the screen in a matrix format with checkboxes for each object. The checkbox is checked to upgrade or unchecked to leave the object alone. This process is typically performed by the developer as they choose which objects need to be preserved or need to be upgraded. These checkboxes get set to a default ‘on’ or ‘off’ based on criteria set when the project compare is performed.

At this point, developers will reapply any customizations to objects(retrofits) or add new customizations as necessary. This process can take weeks to months depending on the number of changes necessary. Changes to the reports, interfaces, etc. are also made during this time.

## Audit Reports and Upgrades
The admin team will run audit reports DDDAudit and SYSAudit – as SQR which are processed and analyzed for errors, and UPGCount in the target environment before the upgrade and provide developers the reports for analysis.

UPGCOUNT is a delivered Application engine program which is used to generate a report showing the row count of PeopleSoft tables. UPGCOUNT is run as part of PeopleSoft application upgrade and can be run on demand too. During application upgrade, it is automatically invoked by change assistant and UPGCOUNT.LIS report file is generated with the list of PeopleSoft tables with their row count.

The admin team will upgrade the target environment and the customization/retrofits projects are copied using Application Designer, from the source database (new release Demo) to the target database (copy of prod). Along with the project, all of the objects defined within the project are copied as well. This process updates the PeopleTools catalog to reflect the changes/additions included within the project. It does not change the underlying Oracle table structure, only the PeopleTools definition.

Final audit reports are created and checked for errors. PeopleSoft delivers audit reports – DDDAudit and SYSAudit – as SQR which are processed and analyzed for errors. Typical errors will be a view that has been defined and not created for some reason, or a table that has been defined in Oracle but does not exist within PeopleSoft's catalog. This is very common as Application Designer does not typically drop tables with data in case you need to preserve them for data conversion/customization purposes.
